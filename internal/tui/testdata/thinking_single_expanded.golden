╭─────────────────────────────────────────────╮
│ ▼ Thinking (6 lines)                        │
│   Let me analyze this problem step by step. │
│                                             │
│   First, I'll consider the requirements:    │
│   - The function needs to handle edge cases │
│   - Performance is important                │
│   - Code should be maintainable             │
╰─────────────────────────────────────────────╯